{"ast":null,"code":"let base64Map = require('./base64Map');\n\nlet reverseVersion = require('./revereseVersion');\n/**\n * @description Encodes a semVer-like version string\n * @param {string} semVer Input can be either x.y.z or x.y\n * @return {string} A string built from 3 characters of the base64 table that encode the semVer\n */\n\n\nfunction encodeVersion(semVer) {\n  let strResult = ''; // support x.y or x.y.z by using 'parts' as a variable\n\n  let parts = semVer.split('.').length;\n  let paddedStringLength = parts * 6; // we pad to either 12 or 18 characters\n  // reverse (but don't mirror) the version. 1.5.15 -> 15.5.1\n  // Pad to two spaces, 15.5.1 -> 15.05.01\n\n  let paddedReversedSemver = reverseVersion(semVer); // turn 15.05.01 to a string '150501' then to a number 150501\n\n  let num = parseInt(paddedReversedSemver.split('.').join('')); // Represent as binary, add left padding to 12 or 18 characters.\n  // 150,501 -> 100100101111100101\n\n  let paddedBinary = num.toString(2).padStart(paddedStringLength, '0'); // Stop in case an invalid version number was provided\n  // paddedBinary must be built from sections of 6 bits\n\n  if (paddedBinary.length % 6 !== 0) {\n    throw 'Version must be smaller than 43.21.26)';\n  } // turn every 6 bits into a character using the base64Map\n\n\n  paddedBinary.match(/.{1,6}/g).forEach(bitString => {\n    // console.log(bitString);\n    strResult += base64Map[bitString];\n  });\n  return strResult;\n}\n\nmodule.exports = encodeVersion;","map":{"version":3,"sources":["/Users/dannyvera/Documents/general-assembly/sei/bees/unit_2/photo-collab-proj-2/PhotoCollaboration-SEI-Project2/photo-collab/node_modules/cloudinary/lib/utils/encoding/sdkVersionID/encodeVersion.js"],"names":["base64Map","require","reverseVersion","encodeVersion","semVer","strResult","parts","split","length","paddedStringLength","paddedReversedSemver","num","parseInt","join","paddedBinary","toString","padStart","match","forEach","bitString","module","exports"],"mappings":"AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,aAAD,CAAvB;;AACA,IAAIC,cAAc,GAAGD,OAAO,CAAC,mBAAD,CAA5B;AAEA;;;;;;;AAKA,SAASE,aAAT,CAAuBC,MAAvB,EAA+B;AAC7B,MAAIC,SAAS,GAAG,EAAhB,CAD6B,CAG7B;;AACA,MAAIC,KAAK,GAAGF,MAAM,CAACG,KAAP,CAAa,GAAb,EAAkBC,MAA9B;AACA,MAAIC,kBAAkB,GAAGH,KAAK,GAAG,CAAjC,CAL6B,CAKO;AAEpC;AACA;;AACA,MAAII,oBAAoB,GAAGR,cAAc,CAACE,MAAD,CAAzC,CAT6B,CAW7B;;AACA,MAAIO,GAAG,GAAGC,QAAQ,CAACF,oBAAoB,CAACH,KAArB,CAA2B,GAA3B,EAAgCM,IAAhC,CAAqC,EAArC,CAAD,CAAlB,CAZ6B,CAc7B;AACA;;AACA,MAAIC,YAAY,GAAGH,GAAG,CAACI,QAAJ,CAAa,CAAb,EAAgBC,QAAhB,CAAyBP,kBAAzB,EAA6C,GAA7C,CAAnB,CAhB6B,CAkB7B;AACA;;AACA,MAAIK,YAAY,CAACN,MAAb,GAAsB,CAAtB,KAA4B,CAAhC,EAAmC;AACjC,UAAM,wCAAN;AACD,GAtB4B,CAwB7B;;;AACAM,EAAAA,YAAY,CAACG,KAAb,CAAmB,SAAnB,EAA8BC,OAA9B,CAAuCC,SAAD,IAAe;AACnD;AACAd,IAAAA,SAAS,IAAIL,SAAS,CAACmB,SAAD,CAAtB;AACD,GAHD;AAKA,SAAOd,SAAP;AACD;;AAEDe,MAAM,CAACC,OAAP,GAAiBlB,aAAjB","sourcesContent":["let base64Map = require('./base64Map');\nlet reverseVersion = require('./revereseVersion');\n\n/**\n * @description Encodes a semVer-like version string\n * @param {string} semVer Input can be either x.y.z or x.y\n * @return {string} A string built from 3 characters of the base64 table that encode the semVer\n */\nfunction encodeVersion(semVer) {\n  let strResult = '';\n\n  // support x.y or x.y.z by using 'parts' as a variable\n  let parts = semVer.split('.').length;\n  let paddedStringLength = parts * 6; // we pad to either 12 or 18 characters\n\n  // reverse (but don't mirror) the version. 1.5.15 -> 15.5.1\n  // Pad to two spaces, 15.5.1 -> 15.05.01\n  let paddedReversedSemver = reverseVersion(semVer);\n\n  // turn 15.05.01 to a string '150501' then to a number 150501\n  let num = parseInt(paddedReversedSemver.split('.').join(''));\n\n  // Represent as binary, add left padding to 12 or 18 characters.\n  // 150,501 -> 100100101111100101\n  let paddedBinary = num.toString(2).padStart(paddedStringLength, '0');\n\n  // Stop in case an invalid version number was provided\n  // paddedBinary must be built from sections of 6 bits\n  if (paddedBinary.length % 6 !== 0) {\n    throw 'Version must be smaller than 43.21.26)';\n  }\n\n  // turn every 6 bits into a character using the base64Map\n  paddedBinary.match(/.{1,6}/g).forEach((bitString) => {\n    // console.log(bitString);\n    strResult += base64Map[bitString];\n  });\n\n  return strResult;\n}\n\nmodule.exports = encodeVersion;\n"]},"metadata":{},"sourceType":"script"}